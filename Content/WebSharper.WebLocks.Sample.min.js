import { Start as fQ } from "./WebSharper.Core.JavaScript/Runtime.js"
import { MarkResizable as fR, SetOptional as fS, Lazy as fT, GetOptional as fU, CreateFuncWithArgs as fV, DeleteEmptyFields as fW, Create as fX, OnLoad as fY } from "./WebSharper.Core.JavaScript/Runtime.js"
function a(fZ){ return"Dispose"in fZ;}
function b(){ const fZ=new n("New_1");const f0=(fZ.h.push(new I("status", c().View)),fZ);const f1=(f0.h.push(q(f0.k, "acquirelock", () => f0.i, () => { const f6=null;Q(N(() => O(s(d()), () => P(null))), null);})),f0);const f2=r(f1.k, f1.h, []);const f3=new i(f2[1], G(f2[0]));let f4=(f1.i=f3,f3);const f5=f4.Doc;u0035("");bm.RunById("main", f5);}
function c(){ return J.statusMessage;}
function d(){ const fZ=null;return new Promise((f0) => { f0(globalThis.navigator.locks.request("my-lock", () => { const f1=null;return new Promise((f2) => { f2((c().Set("Lock acquired!"),console.log("Lock acquired, doing some work..."),u(S(3000)).then(() => { console.log("Work done, releasing lock...");c().Set("Lock released!");return Promise.resolve(null);})));});}).then(() => Promise.resolve(null)));});}
function e(fZ){ throw new Error(fZ);}
function f(fZ){ return[fZ.K, fZ.V];}
function g(fZ, f0){ const f1=1+f0-fZ;return f1<=0?[]:bG(f1, (f2) => f2+fZ);}
class h { Equals(fZ){ return this===fZ;} GetHashCode(){ return -1;} }
class i extends h { doc;allVars;anchorRoot;get Doc(){ return this.doc;} SetAnchorRoot(fZ){ this.anchorRoot=fZ;} constructor(fZ, f0){ super();this.doc=f0;this.allVars=fZ.$==0?fZ.$0:e("Should not happen");this.anchorRoot=null;} }
function j(fZ, f0, f1){ l(fZ, f0);fZ[f0]=f1;}
function k(fZ, f0){ l(fZ, f0);return fZ[f0];}
function l(fZ, f0){ if(f0<0||f0>=fZ.length)e("Index was outside the bounds of the array.");}
function m(fZ){ return fZ.dims===2?fZ.length*fZ.length:fZ.length;}
class n extends h { i;k;h;s;static New_1(){ return new this("New_1");} constructor(fZ){ if(fZ=="New_1"){ let f0;super();this.i=null;this.k=(f0=K(),String(f0));this.h=fR([]);fS(this, "s", null);} } }
class o extends h { ForTextView(){ console.warn("Content hole filled with attribute data", this.Name);return null;} AddAttribute(fZ, f0){ console.warn("Var hole filled with non-Var data", this.Name);} get AsChoiceView(){ console.warn("Attribute value hole filled with non-text data", this.Name);return eo("");} }
class p extends h { }
function q(fZ, f0, f1, f2){ return new L(f0, (f3) =>(f4) => { const f5=f1();f5.SetAnchorRoot(f3);return f2({Vars:f5, Anchors:f5, Target:f3, Event:f4});});}
function r(fZ, f0, f1){ const f2=new bn("New_5");const f3=new bw("New_3");const f4=cD(f0);try { while(f4.MoveNext()){ const f5=f4.Current;const f6=f5.Name;f3.SAdd(f6);f2.set_Item(f6, f5);} } finally { if(typeof f4=="object"&&a(f4))f4.Dispose();} return[bx(f0, bM((f7) => { const f8=f7[0];const f9=f7[1];const f_=f7[2];if(f3.Contains(f8))return null;else { const f$=f9===0?b1.GetOrAddHoleFor(fZ, f8, () => { const ga=f_==null?null:u0034(f_.$0);let gb=bo.Create_1(ga==null?"":ga.$0);return new b2(f8, gb);}):f9===1?b1.GetOrAddHoleFor(fZ, f8, () => { const ga=f_==null?null:u0034(f_.$0);let gb=bo.Create_1(ga==null?0:ga.$0);return new b3(f8, gb);}):f9===2?b1.GetOrAddHoleFor(fZ, f8, () => { const ga=f_==null?null:u0034(f_.$0);let gb=bo.Create_1(ga==null?false:ga.$0);return new b4(f8, gb);}):f9===3?b1.GetOrAddHoleFor(fZ, f8, () => { const ga=f_==null?null:u0034(f_.$0);let gb=bo.Create_1(ga==null?-8640000000000000:ga.$0);return new b5(f8, gb);}):f9===4?b1.GetOrAddHoleFor(fZ, f8, () => new b6(f8, bo.Create_1([]))):f9===5?b1.GetOrAddHoleFor(fZ, f8, () => new b7(f8, bo.Create_1(u0034(globalThis.document.querySelector("[ws-dom="+f8+"]"))))):f9===6?b1.GetOrAddHoleFor(fZ, f8, () => { const ga=f_==null?null:u0034(f_.$0);let gb=bo.Create_1(ga==null?[]:ga.$0);return new b8(f8, gb);}):e("Invalid value type");f2.set_Item(f8, f$);return u0034(f$);} }, f1)), {$:0, $0:f2}];}
function s(fZ){ return T((f0, f1) => { fZ.then(f0, (f2) => f1(t(f2)));});}
function t(fZ){ return fZ instanceof Error?fZ:new bu(fZ);}
function u(fZ){ return new Promise((f0, f1) => { Z(fZ, f0, (f2) => { f1(f2);}, (f2) => { f1(f2);}, null);});}
function v(fZ, f0){ if(fZ===f0)return true;else { const f1=typeof fZ;if(f1=="object"){ if(fZ===null||fZ===void 0||f0===null||f0===void 0||!v(typeof f0, "object"))return false;else if("Equals"in fZ)return fZ.Equals(f0);else if("Equals"in f0)return false;else if(fZ instanceof Array&&f0 instanceof Array)return w(fZ, f0);else if(fZ instanceof Date&&f0 instanceof Date)return x(fZ, f0);else { const f2=[true];let f3;for(var f5 in fZ)if(((f6) => { f2[0]=!fZ.hasOwnProperty(f6)||f0.hasOwnProperty(f6)&&v(fZ[f6], f0[f6]);return!f2[0];})(f5))break;if(f2[0]){ let f4;for(var f6 in f0)if(((f7) => { f2[0]=!f0.hasOwnProperty(f7)||fZ.hasOwnProperty(f7);return!f2[0];})(f6))break;} return f2[0];} } else return f1=="function"&&("$Func"in fZ?fZ.$Func===f0.$Func&&fZ.$Target===f0.$Target:"$Invokes"in fZ&&"$Invokes"in f0&&w(fZ.$Invokes, f0.$Invokes));} }
function w(fZ, f0){ let f1;let f2;if(m(fZ)===m(f0)){ f1=true;f2=0;while(f1&&f2<m(fZ)){!v(k(fZ, f2), k(f0, f2))?f1=false:void 0;f2=f2+1;} return f1;} else return false;}
function x(fZ, f0){ return fZ.getTime()===f0.getTime();}
function y(fZ){ const f0=typeof fZ;return f0=="function"?0:f0=="boolean"?fZ?1:0:f0=="number"?fZ:f0=="string"?z(fZ):f0=="object"?fZ==null?0:fZ instanceof Array?A(fZ):B(fZ):0;}
function z(fZ){ let f0;if(fZ===null)return 0;else { f0=5381;for(let f1=0, f2=fZ.length-1;f1<=f2;f1++)f0=C(f0, fZ[f1].charCodeAt());return f0;} }
function A(fZ){ let f0=-34948909;for(let f1=0, f2=m(fZ)-1;f1<=f2;f1++)f0=C(f0, y(k(fZ, f1)));return f0;}
function B(fZ){ if("GetHashCode"in fZ)return fZ.GetHashCode();else { const f0=[0];let f1;for(var f2 in fZ)if(((f3) => { f0[0]=C(C(f0[0], z(f3)), y(fZ[f3]));return false;})(f2))break;return f0[0];} }
function C(fZ, f0){ return(fZ<<5)+fZ+f0;}
function D(fZ, f0){ if(fZ===f0)return 0;else { const f1=typeof fZ;switch(f1=="function"?1:f1=="boolean"?2:f1=="number"?2:f1=="string"?2:f1=="object"?3:0){ case 0:return typeof f0=="undefined"?0:-1;case 1:return e("Cannot compare function values.");case 2:return fZ<f0?-1:1;case 3:if(fZ===null)return -1;else if(f0===null)return 1;else if("CompareTo"in fZ)return fZ.CompareTo(f0);else if("CompareTo0"in fZ)return fZ.CompareTo0(f0);else if(fZ instanceof Array&&f0 instanceof Array)return E(fZ, f0);else if(fZ instanceof Date&&f0 instanceof Date)return F(fZ, f0);else { const f2=[0];let f3;for(var f5 in fZ)if(((f6) =>!fZ.hasOwnProperty(f6)?false:!f0.hasOwnProperty(f6)?(f2[0]=1,true):(f2[0]=D(fZ[f6], f0[f6]),f2[0]!==0))(f5))break;if(f2[0]===0){ let f4;for(var f6 in f0)if(((f7) =>!f0.hasOwnProperty(f7)?false:!fZ.hasOwnProperty(f7)&&(f2[0]=-1,true))(f6))break;} return f2[0];} break;} } }
function E(fZ, f0){ let f1;let f2;if(m(fZ)<m(f0))return -1;else if(m(fZ)>m(f0))return 1;else { f1=0;f2=0;while(f1===0&&f2<m(fZ)){ f1=D(k(fZ, f2), k(f0, f2));f2=f2+1;} return f1;} }
function F(fZ, f0){ return D(fZ.getTime(), f0.getTime());}
function G(fZ){ u0035("index");return fZ?u0036("index", u0034("main"), fZ):void 0;}
class H extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} get AsChoiceView(){ return eo(this.fillWith);} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class I extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(this.fillWith);} get AsChoiceView(){ return ep(this.fillWith);} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
let J=fT((fZ) => class f0 { static { J=fZ(this);} static statusMessage;static { this.statusMessage=bo.Create_1("Lock status: Not acquired");} });
function K(){ return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(new RegExp("[xy]", "g"), (fZ) => { const f0=Math.random()*16|0;const f1=fZ=="x"?f0:f0&3|8;return f1.toString(16);});}
class L extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
function M(fZ){ const f0={};const f1=cD(fZ);try { while(f1.MoveNext()){ const f2=f1.Current;f0[f2[0]]=f2[1];} } finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} return f0;}
function N(fZ){ return(f0) => { try {(fZ())(f0);} catch(f1){ f0.k(bq(f1));} };}
function O(fZ, f0){ return R((f1) => { fZ(bp((f2) => { if(f2.$==0){ const f3=f2.$0;X().Fork(() => { try {(f0(f3))(f1);} catch(f4){ f1.k(bq(f4));} });} else X().Fork(() => { f1.k(f2);});}, f1.ct));});}
function P(fZ){ return(f0) => { f0.k(br(fZ));};}
function Q(fZ, f0){ const f1=(U())[0];const f2=f0==null?f1:f0.$0;if(!f2.c)fZ(bp((f3) => { if(f3.$==1)V(f3.$0);}, f2));}
function R(fZ){ return(f0) => { if(f0.ct.c)W(f0);else fZ(f0);};}
function S(fZ){ return(f0) => { let f1;let f2;f1=void 0;f2=void 0;f1=setTimeout(() => { f2.Dispose();X().Fork(() => { f0.k(br(null));});}, fZ);f2=Y(f0.ct, () => { clearTimeout(f1);X().Fork(() => { W(f0);});});};}
function T(fZ){ return(f0) => { const f1=[false];const f2=(f3) => { if(f1[0])e("A continuation provided by Async.FromContinuations was invoked multiple times");else { f1[0]=true;X().Fork(f3);} };fZ((f3) => { f2(() => { f0.k(br(f3));});}, (f3) => { f2(() => { f0.k(bq(f3));});}, (f3) => { f2(() => { f0.k(bs(f3));});});};}
function U(){ return cB.defCTS;}
function V(fZ){ console.log("WebSharper: Uncaught asynchronous exception", fZ);}
function W(fZ){ fZ.k(bs(new c_("New", fZ.ct)));}
function X(){ return cB.scheduler;}
function Y(fZ, f0){ if(fZ===u0030())return{Dispose(){ return null;}};else { const f1=fZ.r.push(f0)-1;return{Dispose(){ return j(fZ.r, f1, () => { });}};} }
function Z(fZ, f0, f1, f2, f3){ const f4=(U())[0];const f5=f3==null?f4:f3.$0;if(!f5.c)fZ(bp((f6) => { if(f6.$==1)f1(f6.$0);else if(f6.$==2)f2(f6.$0);else f0(f6.$0);}, f5));}
function u0030(){ return cB.noneCT;}
function u0031(){ return cB.Zero;}
function u0032(fZ, f0){ const f1=(U())[0];const f2=f0==null?f1:f0.$0;X().Fork(() => { if(!f2.c)fZ(bp((f3) => { if(f3.$==1)V(f3.$0);}, f2));});}
function u0033(fZ){ let f0=[];let f1;for(var f2 in fZ)f0.push(fZ[f2]);return f0;}
function u0034(fZ){ return{$:1, $0:fZ};}
function u0035(fZ){!u0037()?(u0038(true),u0039(globalThis.document.body, "")):void 0;$().set_Item(fZ, ba(""));}
function u0036(fZ, f0, f1){ let f2;const f3=(f2=null,[ba(fZ).TryGetValue(f0==null?"":f0.$0, {get:() => f2, set:(f4) => { f2=f4;}}), f2]);return f3[0]?bb(f3[1].cloneNode(true), f1):(console.warn("Local template doesn't exist", f0),bm.Empty);}
function u0037(){ return cI.LocalTemplatesLoaded;}
function u0038(fZ){ cI.LocalTemplatesLoaded=fZ;}
function u0039(fZ, f0){ const f1=ba(f0);const f2=new bn("New_5");const f3=fZ.querySelectorAll("[ws-template]");for(let gd=0, ge=f3.length-1;gd<=ge;gd++){ const f4=f3[gd];const f5=f4.getAttribute("ws-template").toLowerCase();f4.removeAttribute("ws-template");f2.set_Item(f5, bc(f4));} const f6=fZ.querySelectorAll("[ws-children-template]");for(let gf=0, gg=f6.length-1;gf<=gg;gf++){ const f7=f6[gf];const f8=f7.getAttribute("ws-children-template").toLowerCase();f7.removeAttribute("ws-children-template");f2.set_Item(f8, bd(f7));} const f9=fZ.querySelectorAll("template[id]");for(let gh=0, gi=f9.length-1;gh<=gi;gh++){ const f_=f9[gh];f2.set_Item(f_.getAttribute("id").toLowerCase(), be(f_));} const f$=fZ.querySelectorAll("template[name]");for(let gj=0, gk=f$.length-1;gj<=gk;gj++){ const ga=f$[gj];f2.set_Item(ga.getAttribute("name").toLowerCase(), be(ga));} const gb=new bw("New_3");function gc(gl){ if(!f1.ContainsKey(gl)){ let gm;const gn=(gm=null,[f2.TryGetValue(gl, {get:() => gm, set:(go) => { gm=go;}}), gm]);if(gn[0]){ gb.SAdd(gl);f2.RemoveKey(gl);bf(f0, u0034(gl), gn[1], u0034(gc));} else console.warn(gb.Contains(gl)?"Encountered loop when instantiating "+gl:"Local template does not exist: "+gl);} } while(f2.count>0)gc(by(f2.Keys));}
function $(){ return cI.LoadedTemplates;}
function ba(fZ){ let f0;const f1=(f0=null,[$().TryGetValue(fZ, {get:() => f0, set:(f3) => { f0=f3;}}), f0]);if(f1[0])return f1[1];else { const f2=new bn("New_5");$().set_Item(fZ, f2);return f2;} }
function bb(fZ, f0){ let f1;const f2=bg(fZ, bx(f0, bh().Values));const f3=f2[1];const f4=f2[0];const f5=f4.Els;return!v(f5, null)&&f5.length===1&&(k(f5, 0)instanceof Node&&(v(k(f5, 0).nodeType, Node.ELEMENT_NODE)&&(f1=k(f5, 0),true)))?da.TreeNode(f4, f3):bm.Mk(b9(f4), f3);}
function bc(fZ){ fZ.removeAttribute("ws-template");const f0=fZ.getAttribute("ws-replace");if(f0==null){ } else { fZ.removeAttribute("ws-replace");const f1=fZ.parentNode;if(v(f1, null)){ } else { const f2=globalThis.document.createElement(fZ.tagName);f2.setAttribute("ws-replace", f0);f1.replaceChild(f2, fZ);} } const f3=globalThis.document.createElement("div");f3.appendChild(fZ);return f3;}
function bd(fZ){ const f0=globalThis.document.createElement("div");while(fZ.hasChildNodes())f0.appendChild(fZ.firstChild);return f0;}
function be(fZ){ const f0=globalThis.document.createElement("div");const f1=fZ.content;for(let f2=0, f3=f1.childNodes.length-1;f2<=f3;f2++)f0.appendChild(f1.childNodes[f2].cloneNode(true));return f0;}
function bf(fZ, f0, f1, f2){ const f3=new bw("New_3");function f4(f$, ga){ while(true)switch(f$){ case 0:if(ga!==null){ const gb=ga.nextSibling;if(v(ga.nodeType, Node.TEXT_NODE))dj(ga);else if(v(ga.nodeType, Node.ELEMENT_NODE))f6(ga);ga=gb;} else return null;break;case 1:const gc=dr(ga.nodeName, u0034(3), null).toLowerCase();const gd=gc.indexOf(".");const ge=gd===-1?[fZ, gc]:[dr(gc, null, u0034(gd-1)), dr(gc, u0034(gd+1), null)];const gf=ge[1];const gg=ge[0];if(gg!=""&&!$().ContainsKey(gg))return dk(gf);else { if(gg==""&&f2!=null)f2.$0(gf);const gh=$().Item(gg);if(!gh.ContainsKey(gf))return dk(gf);else { const gi=gh.Item(gf);const gj=gi.cloneNode(true);const gk=new bw("New_3");const gl=new bn("New_5");const gm=ga.attributes;for(let gw=0, gx=gm.length-1;gw<=gx;gw++){ const gn=gm.item(gw).name.toLowerCase();const go=gm.item(gw).nodeValue;let gp=go==""?gn:go.toLowerCase();gl.set_Item(gn, gp);if(!gk.SAdd(gn))console.warn("Hole mapped twice", gn);} for(let gy=0, gz=ga.childNodes.length-1;gy<=gz;gy++){ const gq=ga.childNodes[gy];if(v(gq.nodeType, Node.ELEMENT_NODE))if(!gk.SAdd(gq.nodeName.toLowerCase()))console.warn("Hole filled twice", gf);} const gr=ga.childNodes.length===1&&v(ga.firstChild.nodeType, Node.TEXT_NODE);if(gr){ const gs=dl(gj, ga.firstChild.textContent, gf);const gt=((gA) =>(gB) => gA.SAdd(gB))(gk);let gu=((gA) =>(gB) => { if(gB!=null)gA(gB.$0);})((gA) => { gt(gA);});gu(gs);} dm(gj, gk);if(!gr){ for(let gA=0, gB=ga.childNodes.length-1;gA<=gB;gA++){ const gv=ga.childNodes[gA];if(v(gv.nodeType, Node.ELEMENT_NODE))if(gv.hasAttributes())dn(gj, gv);else f5(gj, gv);} } do_1(gj, gl);dp(gj, ga.parentNode, ga);ga.parentNode.removeChild(ga);return;} } break;} } function f5(f$, ga){ const gb=ga.nodeName.toLowerCase();const gc=(gg, gh) => { if(gb=="title"&&ga.hasChildNodes()){ const gi=ds(ga.textContent);ga.removeChild(ga.firstChild);while(gi.hasChildNodes())ga.appendChild(gi.firstChild);} f6(ga);return dp(ga, gg, gh);};bi(f$, "[ws-attr-holes]", (gg) => { const gh=es(gg.getAttribute("ws-attr-holes"), [" "], 1);for(let gl=0, gm=gh.length-1;gl<=gm;gl++){ const gi=k(gh, gl);let gj=new RegExp("\\${"+gb+"}", "ig");let gk=gg.getAttribute(gi).replace(gj, ga.textContent);gg.setAttribute(gi, gk);} });const gd=f$.querySelector("[ws-hole="+gb+"]");if(v(gd, null)){ const ge=f$.querySelector("[ws-replace="+gb+"]");if(v(ge, null)){ const gf=f$.querySelector("slot[name="+gb+"]");return f$.tagName.toLowerCase()=="template"?(gc(gf.parentNode, gf),void gf.parentNode.removeChild(gf)):null;} else { gc(ge.parentNode, ge);ge.parentNode.removeChild(ge);return;} } else { while(gd.hasChildNodes())gd.removeChild(gd.lastChild);gd.removeAttribute("ws-hole");return gc(gd, null);} } function f6(f$){ if(!f$.hasAttribute("ws-preserve"))if(et(f$.nodeName.toLowerCase(), "ws-"))f8(f$);else { dq(f$);f7(f$.firstChild);} } function f7(f$){ return f4(0, f$);} function f8(f$){ return f4(1, f$);} function f9(f$){ while(true){ const ga=f$.querySelector("[ws-template]");if(v(ga, null)){ const gb=f$.querySelector("[ws-children-template]");if(v(gb, null)){ const gc=f$.querySelectorAll("template[id]");for(let gi=1, gj=gc.length-1;gi<=gj;gi++){ const gd=gc[gi];if(f3.Contains(gd)){ } else { bf(fZ, u0034(gd.getAttribute("id")), gd, null);f3.SAdd(gd);} } const ge=f$.querySelectorAll("template[name]");for(let gk=1, gl=ge.length-1;gk<=gl;gk++){ const gf=ge[gk];if(f3.Contains(gf)){ } else { bf(fZ, u0034(gf.getAttribute("name")), gf, null);f3.SAdd(gf);} } return null;} else { const gg=gb.getAttribute("ws-children-template");gb.removeAttribute("ws-children-template");bf(fZ, u0034(gg), gb, null);f$=f$;} } else { const gh=ga.getAttribute("ws-template");(bj(fZ, u0034(gh), ga))(null);f$=f$;} } } const f_=(f0==null?"":f0.$0).toLowerCase();ba(fZ).set_Item(f_, f1);if(f1.hasChildNodes()){ f9(f1);f7(f1.firstChild);} }
function bg(fZ, f0){ let f1;const f2=[];const f3=[];const f4=[];const f5=[];const f6=new bn("New_5");const f7=cD(f0);try { while(f7.MoveNext()){ const f8=f7.Current;f6.set_Item(f8.Name, f8);} } finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} let f9=dt(fZ);const f_=(gh, gi) => { const gj=dS(gh, gi);f3.push(dT(gj));f4.push([gh, gj]);const gk=fU(gj.OnAfterRender);if(gk==null)return null;else { const gl=gk.$0;f5.push(() => { gl(gh);});return;} };const f$=(gh) => { let gi;const gj=(gi=null,[f6.TryGetValue(gh, {get:() => gi, set:(gm) => { gi=gm;}}), gi]);if(gj[0]){ const gk=gj[1];if(gk instanceof d9)return u0034(gk.Value);else if(gk instanceof H)return u0034(bm.TextNode(gk.Value));else { const gl=gk.ForTextView();return gl==null?null:u0034(bm.TextView(gl.$0));} } else return null;};bi(fZ, "[ws-hole]", (gh) => { const gi=gh.getAttribute("ws-hole");gh.removeAttribute("ws-hole");while(gh.hasChildNodes())gh.removeChild(gh.lastChild);const gj=f$(gi);if(gj!=null&&gj.$==1){ const gk=gj.$0;cJ(gh, gk.docNode);f2.push(c3.New(dU(gh), gk.docNode, null, gh, c4(), null));f3.push(gk.updates);} });bi(fZ, "[ws-replace]", (gh) => { const gi=f$(gh.getAttribute("ws-replace"));if(gi!=null&&gi.$==1){ const gj=gi.$0;const gk=gh.parentNode;const gl=globalThis.document.createTextNode("");gk.replaceChild(gl, gh);const gm=cO(gl, gj.docNode);f9=dt(fZ);const gn=bN((go) => gh===go, f9);if(gn==null){ } else j(f9, gn.$0, gj.docNode);f2.push(c3.New(dU(gk), gj.docNode, u0034([gm, gl]), gk, c4(), null));f3.push(gj.updates);} });let ga=false;bi(fZ, "slot", (gh) => { const gi=gh.getAttribute("name");const gj=gi==""||gi==null?"default":gi.toLowerCase();if(ga&&gj=="default"||!v(fZ.parentElement, null)){ } else { while(gh.hasChildNodes())gh.removeChild(gh.lastChild);if(gj=="default")ga=true;const gk=f$(gj);if(gk!=null&&gk.$==1){ const gl=gk.$0;cJ(gh, gl.docNode);f2.push(c3.New(dU(gh), gl.docNode, null, gh, c4(), null));f3.push(gl.updates);} } });bi(fZ, "[ws-attr]", (gh) => { let gi;const gj=gh.getAttribute("ws-attr");gh.removeAttribute("ws-attr");const gk=(gi=null,[f6.TryGetValue(gj, {get:() => gi, set:(gm) => { gi=gm;}}), gi]);if(gk[0]){ const gl=gk[1];if(gl instanceof d_)f_(gh, gl.Value);else console.warn("Attribute hole filled with non-attribute data", gj);} });bi(fZ, "[ws-on]", (gh) => { f_(gh, el.Concat(bM((gi) => { let gj;const gk=es(gi, [":"], 1);const gl=(gj=null,[f6.TryGetValue(k(gk, 1), {get:() => gj, set:(gn) => { gj=gn;}}), gj]);if(gl[0]){ const gm=gl[1];return gm instanceof d$?u0034(ea(k(gk, 0), gm.Value)):gm instanceof L?u0034(el.Handler(k(gk, 0), gm.Value)):(console.warn("Event hole on"+k(gk, 0)+" filled with non-event data", k(gk, 1)),null);} else return null;}, es(gh.getAttribute("ws-on"), [" "], 1))));gh.removeAttribute("ws-on");});bi(fZ, "[ws-onafterrender]", (gh) => { let gi;const gj=gh.getAttribute("ws-onafterrender");const gk=(gi=null,[f6.TryGetValue(gj, {get:() => gi, set:(gm) => { gi=gm;}}), gi]);if(gk[0]){ const gl=gk[1];if(gl instanceof em){ gh.removeAttribute("ws-onafterrender");f_(gh, eb(gl.Value));} else if(gl instanceof en){ gh.removeAttribute("ws-onafterrender");f_(gh, eb(gl.Value));} else console.warn("onafterrender hole filled with non-onafterrender data", gj);} });bi(fZ, "[ws-var]", (gh) => { let gi;const gj=gh.getAttribute("ws-var");gh.removeAttribute("ws-var");const gk=(gi=null,[f6.TryGetValue(gj, {get:() => gi, set:(gl) => { gi=gl;}}), gi]);if(gk[0])gk[1].AddAttribute((gl) =>(gm) => f_(gl, gm), gh);});const gb=() => { bk("[ws-dom]", (gh) => { let gi;let gj;let gk;const gl=(gi=null,[f6.TryGetValue(gh.getAttribute("ws-dom").toLowerCase(), {get:() => gi, set:(gp) => { gi=gp;}}), gi]);if(gl[0]){ const gm=gl[1];if(gm instanceof b7){ const gn=gm.Value;gh.removeAttribute("ws-dom");gj=gh;const go=new MutationObserver((gp, gq) => { bR((gr) => { gr.removedNodes.forEach(fV((gs) => gs[0]===gj&&gr.addedNodes.length!==1?(gn.SetFinal(null),gq.disconnect()):null), null);}, gp);});if(gh.parentElement!==null)go.observe(gh.parentElement, (gk={},gk.childList=true,gk));gn.Set(u0034(gh));dc((gp) => { if(gp!=null&&gp.$==1){ const gq=gp.$0;if(gj===gq){ } else { gj.replaceWith(gq);gj=gq;} } else { gj.remove();go.disconnect();} }, gn.View);} } });};bi(fZ, "[ws-attr-holes]", (gh) => { const gi=new RegExp(bl(), "g");const gj=es(gh.getAttribute("ws-attr-holes"), [" "], 1);gh.removeAttribute("ws-attr-holes");for(let gk=0, gl=gj.length-1;gk<=gl;gk++)((() => { let gm;const gn=k(gj, gk);const go=gh.getAttribute(gn);let gp=null;let gq=0;const gr=[];while(gp=gi.exec(go),gp!==null){ const gs=dr(go, u0034(gq), u0034(gi.lastIndex-k(gp, 0).length-1));gq=gi.lastIndex;gr.push([gs, k(gp, 1)]);} const gt=dr(go, u0034(gq), null);gi.lastIndex=0;const gu=bS((gz, gA) =>(((gB) => { const gC=gB[0];const gD=gB[1];return(gE) => { let gF;const gG=gE[0];const gH=gE[1];const gI=(gF=null,[f6.TryGetValue(gD, {get:() => gF, set:(gK) => { gF=gK;}}), gF]);const gJ=gI[0]?gI[1].AsChoiceView:eo("");return gJ.$==1?[gC, eq.Cons(gG==""?gJ.$0:dd((gK) => gK+gG, gJ.$0), gH)]:[gC+gJ.$0+gG, gH];};})(gz))(gA), gr, [gt, eq.Empty]);if(gu[1].$==1){ if(gu[1].$1.$==1){ if(gu[1].$1.$1.$==1){ if(gu[1].$1.$1.$1.$==0){ const gv=gu[0];gm=ec(gn, de((gz, gA, gB) => gv+gz+gA+gB, gu[1].$0, gu[1].$1.$0, gu[1].$1.$1.$0));} else { const gw=gu[0];gm=ec(gn, dd((gz) => gw+er("", gz), df(gu[1])));} } else { const gx=gu[0];gm=ec(gn, dg((gz, gA) => gx+gz+gA, gu[1].$0, gu[1].$1.$0));} } else if(gu[0]=="")gm=ec(gn, gu[1].$0);else { const gy=gu[0];gm=ec(gn, dd((gz) => gy+gz, gu[1].$0));} } else gm=el.Create(gn, gu[0]);return f_(gh, gm);})());});let gc=f9;const gd=f5.length==0?u0034(() => { gb();}):u0034((gh) => { gb();bR((gi) => { gi(gh);}, f5);});const ge=!v(f9, null)&&f9.length===1&&(k(f9, 0)instanceof Node&&(k(f9, 0)instanceof Element&&(f1=k(f9, 0),true)))?u0034(f1):null;let gf={Els:gc, Dirty:true, Holes:f2, Attrs:f4, Render:gd?gd.$0:void 0, El:ge?ge.$0:void 0};let gg=fW(gf, ["Render", "El"]);return[gg, ez(db(), dh, f3)];}
function bh(){ return cI.GlobalHoles;}
function bi(fZ, f0, f1){ dz(fZ, f0, (f2) => { if(f2.closest("[ws-preserve]")==null)f1(f2);});}
function bj(fZ, f0, f1){ const f2=bc(f1);return(f3) => { bf(fZ, f0, f2, f3);};}
function bk(fZ, f0){ dA(fZ, (f1) => { if(f1.closest("[ws-preserve]")==null)f0(f1);});}
function bl(){ return cI.TextHoleRE;}
class bm extends h { docNode;updates;static RunById(fZ, f0){ const f1=globalThis.document.getElementById(fZ);if(v(f1, null))e("invalid id: "+fZ);else bm.Run(f1, f0);} static Run(fZ, f0){ cJ(fZ, f0.docNode);bm.RunInPlace(false, fZ, f0);} static get Empty(){ return bm.Mk(null, db());} static RunInPlace(fZ, f0, f1){ const f2=cL(f0, f1.docNode);dc(dH()||dO()?dP(cM(fZ, f2, f1.docNode)):() => { cN(fZ, f2, f1.docNode);}, f1.updates);} static Mk(fZ, f0){ return new bm(fZ, f0);} static TextNode(fZ){ return bm.Mk(b_(globalThis.document.createTextNode(fZ)), db());} static TextView(fZ){ const f0=cW();return bm.Mk(b$(f0), dd((f1) => { cX(f0, f1);}, fZ));} constructor(fZ, f0){ super();this.docNode=fZ;this.updates=f0;} }
class bn extends h { equals;hash;count;data;set_Item(fZ, f0){ this.set(fZ, f0);} set(fZ, f0){ const f1=this.hash(fZ);const f2=this.data[f1];if(f2==null){ this.count=this.count+1;this.data[f1]=new Array({K:fZ, V:f0});} else { const f3=bN((f4) => this.equals.apply(null, [(f(f4))[0], fZ]), f2);if(f3==null){ this.count=this.count+1;f2.push({K:fZ, V:f0});} else f2[f3.$0]={K:fZ, V:f0};} } TryGetValue(fZ, f0){ const f1=this.data[this.hash(fZ)];if(f1==null)return false;else { const f2=bO((f3) => { const f4=f(f3);return this.equals.apply(null, [f4[0], fZ])?u0034(f4[1]):null;}, f1);return f2!=null&&f2.$==1&&(f0.set(f2.$0),true);} } ContainsKey(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:bP((f1) => this.equals.apply(null, [(f(f1))[0], fZ]), f0);} RemoveKey(fZ){ return this.remove(fZ);} get Keys(){ return new dG(this);} GetEnumerator(){ return cG(bQ(u0033(this.data)));} get Values(){ return new eD(this);} remove(fZ){ const f0=this.hash(fZ);const f1=this.data[f0];if(f1==null)return false;else { const f2=bU((f3) =>!this.equals.apply(null, [(f(f3))[0], fZ]), f1);return m(f2)<f1.length&&(this.count=this.count-1,this.data[f0]=f2,true);} } Item(fZ){ return this.get(fZ);} get(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?cC():bW((f1) => { const f2=f(f1);return this.equals.apply(null, [f2[0], fZ])?u0034(f2[1]):null;}, f0);} static New_5(){ return new this("New_5");} static New_6(fZ, f0, f1){ return new this("New_6", fZ, f0, f1);} constructor(fZ, f0, f1, f2){ if(fZ=="New_5"){ fZ="New_6";f0=[];f1=v;f2=y;} if(fZ=="New_6"){ const f3=f0;const f4=f1;const f5=f2;super();this.equals=f4;this.hash=f5;this.count=0;this.data=[];const f6=cD(f3);try { while(f6.MoveNext()){ const f7=f6.Current;this.set(f7.K, f7.V);} } finally { if(typeof f6=="object"&&a(f6))f6.Dispose();} } } }
let bo=fT((fZ) => class f0 extends h { static { bo=fZ(this);} static Create_1(f1){ return new cc(false, {s:c7(f1, [])}, f1);} static { } });
function bp(fZ, f0){ return{k:fZ, ct:f0};}
function bq(fZ){ return{$:1, $0:fZ};}
function br(fZ){ return{$:0, $0:fZ};}
function bs(fZ){ return{$:2, $0:fZ};}
class bt extends h { }
class bu extends Error { reason;constructor(fZ){ super("Promise rejected");this.reason=fZ;} }
function bv(fZ, f0){ return{c:fZ, r:f0};}
class bw extends h { equals;hash;data;count;SAdd(fZ){ return this.add(fZ);} Contains(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:this.arrContains(fZ, f0);} add(fZ){ const f0=this.hash(fZ);const f1=this.data[f0];return f1==null?(this.data[f0]=[fZ],this.count=this.count+1,true):this.arrContains(fZ, f1)?false:(f1.push(fZ),this.count=this.count+1,true);} arrContains(fZ, f0){ let f1=true;let f2=0;const f3=f0.length;while(f1&&f2<f3)if(this.equals.apply(null, [f0[f2], fZ]))f1=false;else f2=f2+1;return!f1;} GetEnumerator(){ return cD(eV(this.data));} ExceptWith(fZ){ const f0=cD(fZ);try { while(f0.MoveNext())this.Remove(f0.Current);} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} } get Count(){ return this.count;} IntersectWith(fZ){ const f0=new bw("New_4", fZ, this.equals, this.hash);const f1=eV(this.data);for(let f3=0, f4=f1.length-1;f3<=f4;f3++){ const f2=f1[f3];if(!f0.Contains(f2))this.Remove(f2);} } Remove(fZ){ const f0=this.data[this.hash(fZ)];return f0==null?false:this.arrRemove(fZ, f0)&&(this.count=this.count-1,true);} CopyTo(fZ, f0){ const f1=eV(this.data);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)j(fZ, f2+f0, f1[f2]);} arrRemove(fZ, f0){ let f1=true;let f2=0;const f3=f0.length;while(f1&&f2<f3)if(this.equals.apply(null, [f0[f2], fZ])){ f0.splice(f2, 1);f1=false;} else f2=f2+1;return!f1;} static New_3(){ return new this("New_3");} static New_4(fZ, f0, f1){ return new this("New_4", fZ, f0, f1);} static New_2(fZ){ return new this("New_2", fZ);} constructor(fZ, f0, f1, f2){ if(fZ=="New_3"){ fZ="New_4";f0=[];f1=v;f2=y;} let f3;if(fZ=="New_2"){ f3=f0;fZ="New_4";f0=f3;f1=v;f2=y;} if(fZ=="New_4"){ const f4=f0;const f5=f1;const f6=f2;super();this.equals=f5;this.hash=f6;this.data=[];this.count=0;const f7=cD(f4);try { while(f7.MoveNext())this.add(f7.Current);} finally { if(typeof f7=="object"&&a(f7))f7.Dispose();} } } }
function bx(fZ, f0){ return{GetEnumerator:() => { const f1=cD(fZ);const f2=[true];return new cH(f1, null, (f3) => { if(f3.s.MoveNext()){ f3.c=f3.s.Current;return true;} else { const f4=f3.s;if(!v(f4, null))f4.Dispose();f3.s=null;return f2[0]&&(f2[0]=false,f3.s=cD(f0),f3.s.MoveNext()?(f3.c=f3.s.Current,true):(f3.s.Dispose(),f3.s=null,false));} }, (f3) => { const f4=f3.s;if(!v(f4, null))f4.Dispose();});}};}
function by(fZ){ const f0=cD(fZ);try { return f0.MoveNext()?f0.Current:dD();} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function bz(fZ, f0, f1){ let f2=f0;const f3=cD(f1);try { while(f3.MoveNext())f2=fZ(f2, f3.Current);return f2;} finally { if(typeof f3=="object"&&a(f3))f3.Dispose();} }
function bA(fZ, f0){ const f1=cD(f0);try { while(f1.MoveNext())fZ(f1.Current);} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function bB(fZ, f0){ return{GetEnumerator:() => { const f1=cD(f0);return new cH(null, null, (f2) => f1.MoveNext()&&(f2.c=fZ(f1.Current),true), () => { f1.Dispose();});}};}
function bC(fZ){ return{GetEnumerator:() => cD(fZ())};}
function bD(fZ, f0){ return bF(bB(fZ, f0));}
function bE(fZ){ const f0=cD(fZ);try { if(!f0.MoveNext())bH();let f1=f0.Current;while(f0.MoveNext()){ const f2=f0.Current;if(D(f2, f1)===1)f1=f2;} return f1;} finally { if(typeof f0=="object"&&a(f0))f0.Dispose();} }
function bF(fZ){ return{GetEnumerator:() => { const f0=cD(fZ);function f1(f2){ while(true){ const f3=f2.s;if(v(f3, null)){ if(f0.MoveNext()){ f2.s=cD(f0.Current);f2=f2;} else { f0.Dispose();return false;} } else if(f3.MoveNext()){ f2.c=f3.Current;return true;} else { f2.Dispose();f2.s=null;f2=f2;} } } return new cH(null, null, f1, (f2) => { const f3=f2.s;if(!v(f3, null))f3.Dispose();if(!v(f0, null))f0.Dispose();});}};}
function bG(fZ, f0){ return bI(fZ, bJ(f0));}
function bH(){ return e("The input sequence was empty.");}
function bI(fZ, f0){ fZ<0?dF():void 0;return{GetEnumerator:() => { const f1=[cD(f0)];return new cH(0, null, (f2) => { f2.s=f2.s+1;if(f2.s>fZ)return false;else { const f3=f1[0];return v(f3, null)?dD():f3.MoveNext()?(f2.c=f3.Current,f2.s===fZ?(f3.Dispose(),f1[0]=null):void 0,true):(f3.Dispose(),f1[0]=null,dD());} }, () => { const f2=f1[0];if(!v(f2, null))f2.Dispose();});}};}
function bJ(fZ){ return{GetEnumerator:() => new cH(0, null, (f0) => { f0.c=fZ(f0.s);f0.s=f0.s+1;return true;}, void 0)};}
function bK(fZ, f0){ return!bL((f1) =>!fZ(f1), f0);}
function bL(fZ, f0){ const f1=cD(f0);try { let f2=false;while(!f2&&f1.MoveNext())f2=fZ(f1.Current);return f2;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} }
function bM(fZ, f0){ const f1=[];for(let f3=0, f4=f0.length-1;f3<=f4;f3++){ const f2=fZ(f0[f3]);if(f2==null){ } else f1.push(f2.$0);} return f1;}
function bN(fZ, f0){ let f1=null;let f2=0;while(f2<f0.length&&f1==null){ fZ(f0[f2])?f1=u0034(f2):void 0;f2=f2+1;} return f1;}
function bO(fZ, f0){ let f1=null;let f2=0;while(f2<f0.length&&f1==null){ const f3=fZ(f0[f2]);if(f3!=null&&f3.$==1)f1=f3;f2=f2+1;} return f1;}
function bP(fZ, f0){ let f1=false;let f2=0;while(!f1&&f2<m(f0))if(fZ(f0[f2]))f1=true;else f2=f2+1;return f1;}
function bQ(fZ){ return Array.prototype.concat.apply([], bV(fZ));}
function bR(fZ, f0){ for(let f1=0, f2=f0.length-1;f1<=f2;f1++)fZ(f0[f1]);}
function bS(fZ, f0, f1){ let f2=f1;const f3=f0.length;for(let f4=1, f5=f3;f4<=f5;f4++)f2=fZ(f0[f3-f4], f2);return f2;}
function bT(fZ, f0){ const f1=new Array(f0.length);for(let f2=0, f3=f0.length-1;f2<=f3;f2++)f1[f2]=fZ(f0[f2]);return f1;}
function bU(fZ, f0){ const f1=[];for(let f2=0, f3=f0.length-1;f2<=f3;f2++)if(fZ(f0[f2]))f1.push(f0[f2]);return f1;}
function bV(fZ){ if(fZ instanceof Array)return fZ.slice();else if(fZ instanceof eq)return bX(fZ);else { const f0=[];const f1=cD(fZ);try { while(f1.MoveNext())f0.push(f1.Current);return f0;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } }
function bW(fZ, f0){ const f1=bO(fZ, f0);return f1==null?e("KeyNotFoundException"):f1.$0;}
function bX(fZ){ const f0=[];let f1=fZ;while(!(f1.$==0)){ f0.push(e$(f1));f1=fa(f1);} return f0;}
function bY(fZ, f0){ let f1=true;let f2=0;while(f1&&f2<m(f0))if(fZ(f0[f2]))f2=f2+1;else f1=false;return f1;}
function bZ(fZ, f0){ const f1=new Array(fZ);for(let f2=0, f3=fZ-1;f2<=f3;f2++)f1[f2]=f0;return f1;}
function b0(fZ, f0){ if(fZ<0)e("Negative size given.");else null;const f1=new Array(fZ);for(let f2=0, f3=fZ-1;f2<=f3;f2++)f1[f2]=f0(f2);return f1;}
let b1=fT((fZ) => class f0 extends h { static { b1=fZ(this);} static init;id;vars;static initialized;static instances;static GetOrAddHoleFor(f1, f2, f3){ let f4;const f5=b1.GetHolesFor(f1);const f6=(f4=null,[f5.TryGetValue(f2, {get:() => f4, set:(f8) => { f4=f8;}}), f4]);if(f6[0])return f6[1];else { const f7=f3();f5.set_Item(f2, f7);return f7;} } static GetHolesFor(f1){ let f2;const f3=(f2=null,[b1.initialized.TryGetValue(f1, {get:() => f2, set:(f5) => { f2=f5;}}), f2]);if(f3[0])return f3[1];else { const f4=new bn("New_5");b1.initialized.set_Item(f1, f4);return f4;} } static { b1.initialized=new bn("New_5");b1.instances=new bn("New_5");} });
class b2 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(this.fillWith.View);} AddAttribute(fZ, f0){(fZ(f0))(ed(this.fillWith));} get AsChoiceView(){ return ep(dd(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b3 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(dd(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ee(this.fillWith));} get AsChoiceView(){ return ep(dd(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b4 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(dd(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ef(this.fillWith));} get AsChoiceView(){ return ep(dd(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b5 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(dd((fZ) =>(new Date(fZ)).toLocaleString(), this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(eg(this.fillWith));} get AsChoiceView(){ return ep(dd((fZ) =>(new Date(fZ)).toLocaleString(), this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b6 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(dd(String, this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(eh(this.fillWith));} get AsChoiceView(){ return ep(dd(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b7 extends o { name;fillWith;get Name(){ return this.name;} get Value(){ return this.fillWith;} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
class b8 extends o { name;fillWith;get Name(){ return this.name;} ForTextView(){ return u0034(dd((fZ) => er(",", fZ), this.fillWith.View));} AddAttribute(fZ, f0){(fZ(f0))(ei(this.fillWith));} get AsChoiceView(){ return ep(dd(String, this.fillWith.View));} constructor(fZ, f0){ super();this.name=fZ;this.fillWith=f0;} }
function b9(fZ){ return{$:6, $0:fZ};}
function b_(fZ){ return{$:5, $0:fZ};}
function b$(fZ){ return{$:4, $0:fZ};}
class ca { }
function cb(fZ, f0){ return fJ(fZ, -2147483648, 2147483647, f0);}
class cc extends p { isConst;current;snap;view;id;get View(){ return this.view;} Set(fZ){ if(this.isConst)(((f0) => f0("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f0) => { console.log(f0);}));else { dR(this.snap);this.current=fZ;this.snap={s:c7(fZ, [])};} } SetFinal(fZ){ if(this.isConst)(((f0) => f0("WebSharper.UI: invalid attempt to change value of a Var after calling SetFinal"))((f0) => { console.log(f0);}));else { dR(this.snap);this.isConst=true;this.current=fZ;this.snap={s:c8(fZ)};} } Get(){ return this.current;} UpdateMaybe(fZ){ const f0=fZ(this.Get());if(f0!=null&&f0.$==1)this.Set(f0.$0);} constructor(fZ, f0, f1){ super();this.isConst=fZ;this.current=f1;this.snap=f0;this.view=() => this.snap;this.id=c4();} }
function cd(fZ, f0, f1){ const f2=fZ.s;if(f2==null)f1();else f2!=null&&f2.$==2?(f2.$1.push(f1),f0(f2.$0)):f2!=null&&f2.$==3?(f2.$0.push(f0),f2.$1.push(f1)):f0(f2.$0);}
function ce(fZ, f0){ const f1=f0.s;if(f1!=null&&f1.$==0)return{s:c8(fZ(f1.$0))};else { const f2={s:c9([], [])};cl(f0, (f3) => { cm(f2, f0, fZ(f3));}, f2);return f2;} }
function cf(fZ, f0, f1, f2){ const f3=f0.s;const f4=f1.s;const f5=f2.s;if(f3!=null&&f3.$==0)return f4!=null&&f4.$==0?f5!=null&&f5.$==0?{s:c8(fZ(f3.$0, f4.$0, f5.$0))}:cn(fZ, f3.$0, f4.$0, f2):f5!=null&&f5.$==0?co(fZ, f3.$0, f5.$0, f1):cp(fZ, f3.$0, f1, f2);else if(f4!=null&&f4.$==0)return f5!=null&&f5.$==0?cq(fZ, f4.$0, f5.$0, f0):cr(fZ, f4.$0, f0, f2);else if(f5!=null&&f5.$==0)return cs(fZ, f5.$0, f0, f1);else { const f6={s:c9([], [])};const f7=() => { const f8=f6.s;if(!(f8!=null&&f8.$==0||f8!=null&&f8.$==2)){ const f9=ct(f0);const f_=ct(f1);const f$=ct(f2);if(f9!=null&&f9.$==1)if(f_!=null&&f_.$==1)if(f$!=null&&f$.$==1)if(f9.$0[1]&&f_.$0[1]&&f$.$0[1])cu(f6, fZ(f9.$0[0], f_.$0[0], f$.$0[0]));else cv(f6, fZ(f9.$0[0], f_.$0[0], f$.$0[0]));} };cl(f0, f7, f6);cl(f1, f7, f6);cl(f2, f7, f6);return f6;} }
function cg(fZ){ const f0=bV(fZ);if(f0.length==0)return{s:c8([])};else { const f1={s:c9([], [])};const f2=[m(f0)-1];const f3=() => { if(f2[0]===0){ const f4=bT((f5) => { const f6=f5.s;return f6!=null&&f6.$==0?f6.$0:f6!=null&&f6.$==2?f6.$0:e("value not found by View.Sequence");}, f0);if(bY((f5) => { const f6=f5.s;return f6!=null&&f6.$==0;}, f0))cu(f1, f4);else cv(f1, f4);} else f2[0]=f2[0]-1;};bR((f4) => { cl(f4, f3, f1);}, f0);return f1;} }
function ch(fZ, f0, f1){ const f2=f0.s;const f3=f1.s;if(f2!=null&&f2.$==0)return f3!=null&&f3.$==0?{s:c8(fZ(f2.$0, f3.$0))}:cw(fZ, f2.$0, f1);else if(f3!=null&&f3.$==0)return cx(fZ, f3.$0, f0);else { const f4={s:c9([], [])};const f5=() => { const f6=f4.s;if(!(f6!=null&&f6.$==0||f6!=null&&f6.$==2)){ const f7=ct(f0);const f8=ct(f1);if(f7!=null&&f7.$==1)if(f8!=null&&f8.$==1)if(f7.$0[1]&&f8.$0[1])cu(f4, fZ(f7.$0[0], f8.$0[0]));else cv(f4, fZ(f7.$0[0], f8.$0[0]));} };cl(f0, f5, f4);cl(f1, f5, f4);return f4;} }
function ci(fZ, f0){ const f1=fZ.s;const f2=f0.s;if(f1!=null&&f1.$==0)return f2!=null&&f2.$==0?{s:c8(null)}:f0;else if(f2!=null&&f2.$==0)return fZ;else { const f3={s:c9([], [])};const f4=() => { const f5=f3.s;if(!(f5!=null&&f5.$==0||f5!=null&&f5.$==2)){ const f6=ct(fZ);const f7=ct(f0);if(f6!=null&&f6.$==1)if(f7!=null&&f7.$==1)if(f6.$0[1]&&f7.$0[1])cu(f3, null);else cv(f3, null);} };cl(fZ, f4, f3);cl(f0, f4, f3);return f3;} }
function cj(fZ){ const f0=fZ.s;if(f0==null)return fZ;else if(f0!=null&&f0.$==2){ const f1={s:c7(f0.$0, [])};cy(fZ, f1);return f1;} else if(f0!=null&&f0.$==3){ const f2={s:c9([], [])};cl(fZ, (f3) => { cm(f2, fZ, f3);}, f2);return f2;} else return fZ;}
function ck(fZ, f0){ const f1=fZ.s;if(f1==null)f0();else f1!=null&&f1.$==2?f1.$1.push(f0):f1!=null&&f1.$==3?f1.$1.push(f0):void 0;}
function cl(fZ, f0, f1){ const f2=fZ.s;if(f2==null)dR(f1);else f2!=null&&f2.$==2?(cz(f2.$1, f1),f0(f2.$0)):f2!=null&&f2.$==3?(f2.$0.push(f0),cz(f2.$1, f1)):f0(f2.$0);}
function cm(fZ, f0, f1){ const f2=f0.s;if(f2!=null&&f2.$==0)cu(fZ, f1);else cv(fZ, f1);}
function cn(fZ, f0, f1, f2){ return ce((f3) => fZ(f0, f1, f3), f2);}
function co(fZ, f0, f1, f2){ return ce((f3) => fZ(f0, f3, f1), f2);}
function cp(fZ, f0, f1, f2){ return ch((f3, f4) => fZ(f0, f3, f4), f1, f2);}
function cq(fZ, f0, f1, f2){ return ce((f3) => fZ(f3, f0, f1), f2);}
function cr(fZ, f0, f1, f2){ return ch((f3, f4) => fZ(f3, f0, f4), f1, f2);}
function cs(fZ, f0, f1, f2){ return ch((f3, f4) => fZ(f3, f4, f0), f1, f2);}
function ct(fZ){ const f0=fZ.s;return f0!=null&&f0.$==0?u0034([f0.$0, true]):f0!=null&&f0.$==2?u0034([f0.$0, false]):null;}
function cu(fZ, f0){ const f1=fZ.s;if(f1!=null&&f1.$==3){ fZ.s=c8(f0);const f2=f1.$0;for(let f3=0, f4=m(f2)-1;f3<=f4;f3++)(k(f2, f3))(f0);} else void 0;}
function cv(fZ, f0){ const f1=fZ.s;if(f1!=null&&f1.$==3){ fZ.s=c7(f0, f1.$1);const f2=f1.$0;for(let f3=0, f4=m(f2)-1;f3<=f4;f3++)(k(f2, f3))(f0);} else void 0;}
function cw(fZ, f0, f1){ return ce((f2) => fZ(f0, f2), f1);}
function cx(fZ, f0, f1){ return ce((f2) => fZ(f2, f0), f1);}
function cy(fZ, f0){ const f1=fZ.s;if(f1==null)dR(f0);else f1!=null&&f1.$==2?cz(f1.$1, f0):f1!=null&&f1.$==3?cz(f1.$1, f0):void 0;}
function cz(fZ, f0){ fZ.push(f0);if(fZ.length%20===0){ const f1=fZ.slice(0);fO(fZ);for(let f3=0, f4=m(f1)-1;f3<=f4;f3++){ const f2=k(f1, f3);if(typeof f2=="object")(((f5) => { if(f5.s)fZ.push(f5);})(f2));else(((f5) => { fZ.push(f5);})(f2));} } else void 0;}
class cA extends h { idle;robin;Fork(fZ){ this.robin.push(fZ);this.idle?(this.idle=false,setTimeout(() => { this.tick();}, 0)):void 0;} tick(){ const fZ=Date.now();let f0=true;while(f0)if(this.robin.length===0){ this.idle=true;f0=false;} else {(this.robin.shift())();Date.now()-fZ>40?(setTimeout(() => { this.tick();}, 0),f0=false):void 0;} } constructor(){ super();this.idle=true;this.robin=[];} }
let cB=fT((fZ) => class f0 { static { cB=fZ(this);} static GetCT;static Zero;static defCTS;static scheduler;static noneCT;static { this.noneCT=bv(false, []);this.scheduler=new cA();this.defCTS=[new c$()];this.Zero=P();this.GetCT=(f1) => { f1.k(br(f1.ct));};} });
function cC(){ throw new e4("New");}
function cD(fZ){ return fZ instanceof Array?cE(fZ):v(typeof fZ, "string")?cF(fZ):fZ.GetEnumerator();}
function cE(fZ){ return new cH(0, null, (f0) => { const f1=f0.s;return f1<m(fZ)&&(f0.c=k(fZ, f1),f0.s=f1+1,true);}, void 0);}
function cF(fZ){ return new cH(0, null, (f0) => { const f1=f0.s;return f1<fZ.length&&(f0.c=fZ[f1],f0.s=f1+1,true);}, void 0);}
function cG(fZ){ return fZ instanceof Array?cE(fZ):v(typeof fZ, "string")?cF(fZ):"GetEnumerator0"in fZ?fZ.GetEnumerator0():fZ.GetEnumerator();}
class cH extends h { s;c;n;d;e;MoveNext(){ const fZ=this.n(this);this.e=fZ?1:2;return fZ;} get Current(){ return this.e===1?this.c:this.e===0?e("Enumeration has not started. Call MoveNext."):e("Enumeration already finished.");} Dispose(){ if(this.d)this.d(this);} constructor(fZ, f0, f1, f2){ super();this.s=fZ;this.c=f0;this.n=f1;this.d=f2;this.e=0;} }
let cI=fT((fZ) => class f0 { static { cI=fZ(this);} static RenderedFullDocTemplate;static TextHoleRE;static GlobalHoles;static LocalTemplatesLoaded;static LoadedTemplates;static { this.LoadedTemplates=new bn("New_5");this.LocalTemplatesLoaded=false;this.GlobalHoles=new bn("New_5");this.TextHoleRE="\\${([^}]+)}";this.RenderedFullDocTemplate=null;} });
function cJ(fZ, f0){ cK(fZ, f0, null);}
function cK(fZ, f0, f1){ while(true){ if(f0!=null&&f0.$==1)return cP(fZ, f0.$0.El, f1);else if(f0!=null&&f0.$==2){ const f2=f0.$0;f2.Dirty=false;f0=f2.Current;} else if(f0==null)return f1;else if(f0!=null&&f0.$==4)return cP(fZ, f0.$0.Text, f1);else if(f0!=null&&f0.$==5)return cP(fZ, f0.$0, f1);else if(f0!=null&&f0.$==6)return bS((f5, f6) =>((((f7) =>(f8) =>(f9) => f8==null||f8.constructor===Object?cK(f7, f8, f9):cP(f7, f8, f9))(fZ))(f5))(f6), f0.$0.Els, f1);else { const f3=f0.$1;const f4=f0.$0;f0=f4;f1=cK(fZ, f3, f1);} } }
function cL(fZ, f0){ return eE(eF(), cQ(fZ, dY(), f0));}
function cM(fZ, f0, f1){ if(dH()){ const f2=null;return N(() => { const f3=eG(f1);const f4=cU(f0, f3);const f5=cT(f0, f3);return O(dI(dJ(f4, cS(f0, f3))), () => O(cR(fZ, f0), () => O(dI(f5), () => { f0.PreviousNodes=f3;return P(null);})));});} else return cR(fZ, f0);}
function cN(fZ, f0, f1){ const f2=eG(f1);cV(fZ, f0.Top);f0.PreviousNodes=f2;}
function cO(fZ, f0){ const f1=fZ.parentNode;const f2=globalThis.document.createTextNode("");f1.insertBefore(f2, fZ);cY(fZ, f0);return f2;}
function cP(fZ, f0, f1){ dB(fZ, f1, f0);return f0;}
function cQ(fZ, f0, f1){ cJ(fZ, f1);const f2=dS(fZ, f0);return c3.New(f2, f1, null, fZ, c4(), fU(f2.OnAfterRender));}
function cR(fZ, f0){ if(dO()){ const f1=(f2) => { requestAnimationFrame(() => { cV(fZ, f0.Top);f2();});};return T((f2, f3, f4) => f1.apply(null, [f2, f3, f4]));} else { cV(fZ, f0.Top);return P(null);} }
function cS(fZ, f0){ return dM(bT((f1) => d0(f1.Attr), eK(eJ(f0, eI((f1) => dZ(f1.Attr), fZ.PreviousNodes)))));}
function cT(fZ, f0){ return dM(bT((f1) => d2(f1.Attr), eK(eJ(fZ.PreviousNodes, eI((f1) => d1(f1.Attr), f0)))));}
function cU(fZ, f0){ const f1=(f3) => d3(f3.Attr);const f2=(f3) => eI(f1, f3);return dM(bT((f3) => d4(f3.Attr), eK(eL(f2(fZ.PreviousNodes), f2(f0)))));}
function cV(fZ, f0){!fZ?cZ(f0):void 0;c0(f0.Children);c1(f0);}
function cW(){ return{Text:globalThis.document.createTextNode(""), Dirty:false, Value:""};}
function cX(fZ, f0){ fZ.Value=f0;fZ.Dirty=true;}
function cY(fZ, f0){ cK(fZ.parentNode, f0, fZ);}
function cZ(fZ){ function f0(f1){ function f2(f3){ while(true){ if(f3!=null&&f3.$==0){ const f4=f3.$1;const f5=f3.$0;if(f2(f5))return true;else f3=f4;} else if(f3!=null&&f3.$==2){ const f6=f3.$0;if(f6.Dirty)return true;else f3=f6.Current;} else if(f3!=null&&f3.$==6){ const f7=f3.$0;return f7.Dirty||bP(f0, f7.Holes);} else return false;} } return f2(f1.Children);} d7(fZ.El, fZ.Attr);if(f0(fZ))c2(fZ);}
function c0(fZ){ while(true){ if(fZ!=null&&fZ.$==1)return cV(false, fZ.$0);else if(fZ!=null&&fZ.$==2){ const f0=fZ.$0;fZ=f0.Current;} else if(fZ==null)return null;else if(fZ!=null&&fZ.$==5)return null;else if(fZ!=null&&fZ.$==4){ const f1=fZ.$0;return f1.Dirty?(f1.Text.nodeValue=f1.Value,f1.Dirty=false):null;} else if(fZ!=null&&fZ.$==6){ const f2=fZ.$0;bR((f5) => { cV(false, f5);}, f2.Holes);bR((f5) => { d7(f5[0], f5[1]);}, f2.Attrs);return c1(f2);} else { const f3=fZ.$1;const f4=fZ.$0;c0(f4);fZ=f3;} } }
function c1(fZ){ const f0=fU(fZ.Render);if(f0!=null&&f0.$==1){ f0.$0(fZ.El);fS(fZ, "Render", null);} }
function c2(fZ){ const f0=fZ.El;function f1(f5, f6){ while(true){ if(f5!=null&&f5.$==1)return f5.$0.El;else if(f5!=null&&f5.$==2){ const f7=f5.$0;if(f7.Dirty){ f7.Dirty=false;return cK(f0, f7.Current, f6);} else f5=f7.Current;} else if(f5==null)return f6;else if(f5!=null&&f5.$==4)return f5.$0.Text;else if(f5!=null&&f5.$==5)return f5.$0;else if(f5!=null&&f5.$==6){ const f8=f5.$0;if(f8.Dirty)f8.Dirty=false;return bS((f$, ga) => f$==null||f$.constructor===Object?f1(f$, ga):f$, f8.Els, f6);} else { const f9=f5.$1;const f_=f5.$0;f5=f_;f6=f1(f9, f6);} } } const f2=fZ.El;fE((f5) => { dC(f2, f5);}, fD(fF(fZ), fC(fZ.El, fU(fZ.Delimiters))));let f3=fZ.Children;const f4=fU(fZ.Delimiters);f1(f3, f4!=null&&f4.$==1?f4.$0[1]:null);}
class c3 { Attr;Children;Delimiters;El;ElKey;Render;Equals(fZ){ return this.ElKey===fZ.ElKey;} GetHashCode(){ return this.ElKey;} static New(fZ, f0, f1, f2, f3, f4){ const f5={Attr:fZ, Children:f0, El:f2, ElKey:f3};let f6=(fS(f5, "Delimiters", f1),fS(f5, "Render", f4),f5);return fX(c3, f6);} }
function c4(){ c5(c6()+1);return c6();}
function c5(fZ){ eW.counter=fZ;}
function c6(){ return eW.counter;}
function c7(fZ, f0){ return{$:2, $0:fZ, $1:f0};}
function c8(fZ){ return{$:0, $0:fZ};}
function c9(fZ, f0){ return{$:3, $0:fZ, $1:f0};}
class c_ extends Error { ct;static New(fZ){ return new this("New", fZ);} static New_1(fZ, f0, f1){ return new this("New_1", fZ, f0, f1);} constructor(fZ, f0, f1, f2){ let f3;if(fZ=="New"){ f3=f0;fZ="New_1";f0="The operation was canceled.";f1=null;f2=f3;} if(fZ=="New_1"){ const f4=f0;const f5=f1;const f6=f2;super(f4);this.inner=f5;this.ct=f6;} } }
class c$ extends h { init;c;pending;r;constructor(){ super();this.c=false;this.pending=null;this.r=[];this.init=1;} }
class da extends bm { docNode_1;updates_1;elt;rvUpdates;static TreeNode(fZ, f0){ const f1=eC.Create(f0);const f2=bT((f5) => dT(f5[1]), fZ.Attrs);let f3=ez(db(), dh, f2);let f4=dh(f3, f1.v);return new da(b9(fZ), f4, k(fZ.Els, 0), f1);} constructor(fZ, f0, f1, f2){ super(fZ, f0);this.docNode_1=fZ;this.updates_1=f0;this.elt=f1;this.rvUpdates=f2;} }
function db(fZ){ const f0={s:c8(fZ)};return() => f0;}
function dc(fZ, f0){ function f1(){ cd(f0(), fZ, () => { X().Fork(f1);});} X().Fork(f1);}
function dd(fZ, f0){ return di(() => ce(fZ, f0()));}
function de(fZ, f0, f1, f2){ return di(() => cf(fZ, f0(), f1(), f2()));}
function df(fZ){ return di(() => cg(bB((f0) => f0(), fZ)));}
function dg(fZ, f0, f1){ return di(() => ch(fZ, f0(), f1()));}
function dh(fZ, f0){ return di(() => ci(fZ(), f0()));}
function di(fZ){ const f0={c:null, o:fZ};return() => { let f1=f0.c;if(f1===null){ f1=f0.o();f0.c=f1;const f2=f1.s;if(f2!=null&&f2.$==0)f0.o=null;else ck(f1, () => { f0.c=null;});return f1;} else return f1;};}
function dj(fZ){ let f0=null;let f1=0;const f2=fZ.textContent;const f3=new RegExp(bl(), "g");while(f0=f3.exec(f2),f0!==null){ fZ.parentNode.insertBefore(globalThis.document.createTextNode(dr(f2, u0034(f1), u0034(f3.lastIndex-k(f0, 0).length-1))), fZ);f1=f3.lastIndex;const f4=globalThis.document.createElement("span");f4.setAttribute("ws-replace", k(f0, 1).toLowerCase());fZ.parentNode.insertBefore(f4, fZ);} f3.lastIndex=0;fZ.textContent=dr(f2, u0034(f1), null);}
function dk(fZ){ console.warn("Instantiating non-loaded template", fZ);}
function dl(fZ, f0, f1){ const f2=fZ.querySelector("[ws-replace]");return v(f2, null)?(console.warn("Filling non-existent text hole", f1),null):(f2.parentNode.replaceChild(globalThis.document.createTextNode(f0), f2),u0034(f2.getAttribute("ws-replace")));}
function dm(fZ, f0){ const f1=(f2) => { bi(fZ, "["+f2+"]", (f3) => { if(!f0.Contains(f3.getAttribute(f2)))f3.removeAttribute(f2);});};f1("ws-attr");f1("ws-onafterrender");f1("ws-var");bi(fZ, "[ws-hole]", (f2) => { if(!f0.Contains(f2.getAttribute("ws-hole"))){ f2.removeAttribute("ws-hole");while(f2.hasChildNodes())f2.removeChild(f2.lastChild);} });bi(fZ, "[ws-replace]", (f2) => { if(!f0.Contains(f2.getAttribute("ws-replace")))f2.parentNode.removeChild(f2);});bi(fZ, "[ws-on]", (f2) => { f2.setAttribute("ws-on", er(" ", bU((f3) => f0.Contains(k(es(f3, [":"], 1), 1)), es(f2.getAttribute("ws-on"), [" "], 1))));});bi(fZ, "[ws-attr-holes]", (f2) => { const f3=es(f2.getAttribute("ws-attr-holes"), [" "], 1);for(let f7=0, f8=f3.length-1;f7<=f8;f7++){ const f4=k(f3, f7);let f5=new RegExp(bl(), "g");let f6=f2.getAttribute(f4).replace(f5, (f9, f_) => f0.Contains(f_)?f9:"");f2.setAttribute(f4, f6);} });}
function dn(fZ, f0){ dq(f0);const f1=f0.nodeName.toLowerCase();const f2=fZ.querySelector("[ws-attr="+f1+"]");if(v(f2, null))console.warn("Filling non-existent attr hole", f1);else { f2.removeAttribute("ws-attr");for(let f4=0, f5=f0.attributes.length-1;f4<=f5;f4++){ const f3=f0.attributes.item(f4);if(f3.name=="class"&&f2.hasAttribute("class"))f2.setAttribute("class", f2.getAttribute("class")+" "+f3.nodeValue);else f2.setAttribute(f3.name, f3.nodeValue);} } }
function do_1(fZ, f0){ const f1=(f2) => { bi(fZ, "["+f2+"]", (f3) => { let f4;const f5=(f4=null,[f0.TryGetValue(f3.getAttribute(f2).toLowerCase(), {get:() => f4, set:(f6) => { f4=f6;}}), f4]);if(f5[0])f3.setAttribute(f2, f5[1]);});};f1("ws-hole");f1("ws-replace");f1("ws-attr");f1("ws-onafterrender");f1("ws-var");bi(fZ, "[ws-on]", (f2) => { f2.setAttribute("ws-on", er(" ", bT((f3) => { let f4;const f5=es(f3, [":"], 1);const f6=(f4=null,[f0.TryGetValue(k(f5, 1), {get:() => f4, set:(f7) => { f4=f7;}}), f4]);return f6[0]?k(f5, 0)+":"+f6[1]:f3;}, es(f2.getAttribute("ws-on"), [" "], 1))));});bi(fZ, "[ws-attr-holes]", (f2) => { const f3=es(f2.getAttribute("ws-attr-holes"), [" "], 1);for(let f4=0, f5=f3.length-1;f4<=f5;f4++)((() => { const f6=k(f3, f4);return f2.setAttribute(f6, bz((f7, f8) => { const f9=f(f8);return f7.replace(new RegExp("\\${"+f9[0]+"}", "ig"), "${"+f9[1]+"}");}, f2.getAttribute(f6), f0));})());});}
function dp(fZ, f0, f1){ while(true){ if(fZ.hasChildNodes())f1=f0.insertBefore(fZ.lastChild, f1);else return null;} }
function dq(fZ){ const f0=fZ.attributes;const f1=[];const f2=[];const f3=[];for(let f8=0, f9=f0.length-1;f8<=f9;f8++){ const f4=f0.item(f8);if(et(f4.nodeName, "ws-on")&&f4.nodeName!="ws-onafterrender"&&f4.nodeName!="ws-on"){ f1.push(f4.nodeName);f2.push(dr(f4.nodeName, u0034("ws-on".length), null)+":"+f4.nodeValue.toLowerCase());} else if(!et(f4.nodeName, "ws-")&&(new RegExp(bl())).test(f4.nodeValue)){ let f5=new RegExp(bl(), "g");let f6=f4.nodeValue.replace(f5, (f_, f$) =>"${"+f$.toLowerCase()+"}");f4.nodeValue=f6;f3.push(f4.nodeName);} else void 0;} if(!(f2.length==0))fZ.setAttribute("ws-on", er(" ", f2));if(!(f3.length==0))fZ.setAttribute("ws-attr-holes", er(" ", f3));const f7=(f_) => { const f$=fZ.getAttribute(f_);if(f$==null){ } else fZ.setAttribute(f_, f$.toLowerCase());};f7("ws-hole");f7("ws-replace");f7("ws-attr");f7("ws-onafterrender");f7("ws-var");bR((f_) => { fZ.removeAttribute(f_);}, f1);}
function dr(fZ, f0, f1){ if(f0==null){ if(f1!=null&&f1.$==1){ const f2=f1.$0;return f2<0?"":fZ.slice(0, f2+1);} else return"";} else if(f1==null)return fZ.slice(f0.$0);else { const f3=f1.$0;return f3<0?"":fZ.slice(f0.$0, f3+1);} }
function ds(fZ){ const f0=globalThis.document.createElement("div");if(!du().test(fZ)){ f0.appendChild(globalThis.document.createTextNode(fZ));return f0;} else { const f1=dy().exec(fZ);const f2=v(f1, null)?"":k(f1, 1).toLowerCase();const f3=(dv())[f2];const f4=f3?f3:dw();f0.innerHTML=f4[1]+fZ.replace(dx(), "<$1></$2>")+f4[2];function f5(f6, f7){ while(true){ if(f7===0)return f6;else { const f8=f7;f6=f6.lastChild;f7=f8-1;} } } return f5(f0, f4[0]);} }
function dt(fZ){ const f0=[];for(let f1=0, f2=fZ.childNodes.length-1;f1<=f2;f1++)f0.push(fZ.childNodes[f1]);return f0;}
function du(){ return eX.rhtml;}
function dv(){ return eX.wrapMap;}
function dw(){ return eX.defaultWrap;}
function dx(){ return eX.rxhtmlTag;}
function dy(){ return eX.rtagName;}
function dz(fZ, f0, f1){ const f2=fZ.querySelectorAll(f0);for(let f3=0, f4=f2.length-1;f3<=f4;f3++)f1(f2[f3]);}
function dA(fZ, f0){ const f1=globalThis.document.querySelectorAll(fZ);for(let f2=0, f3=f1.length-1;f2<=f3;f2++)f0(f1[f2]);}
function dB(fZ, f0, f1){ let f2;if(f1.parentNode===fZ){ const f3=f1.nextSibling;let f4=v(f3, null)?null:f3;f2=f0===f4;} else f2=false;if(!f2)fZ.insertBefore(f1, f0);}
function dC(fZ, f0){ if(f0.parentNode===fZ)fZ.removeChild(f0);}
function dD(){ return e("The input sequence has an insufficient number of elements.");}
function dE(fZ, f0){ let f1=true;let f2=0;while(f1&&f2<m(f0))if(v(f0[f2], fZ))f1=false;else f2=f2+1;return!f1;}
function dF(){ return e("The input must be non-negative.");}
class dG extends h { d;GetEnumerator(){ return cD(bB((fZ) => fZ.K, this.d));} constructor(fZ){ super();this.d=fZ;} }
function dH(){ return eM();}
function dI(fZ){ const f0=null;return N(() => O(dK(() => { }, eN(fZ)), () => { eO(fZ);return P(null);}));}
function dJ(fZ, f0){ return dL(eZ(fZ.$0, f0.$0));}
function dK(fZ, f0){ const f1=f0.Duration;if(f1===0)return u0031();else { const f2=(f3) => { function f4(f5){ return(f6) => { const f7=f6-f5;f0.Compute(f7);fZ();return f7<=f1?void requestAnimationFrame((f8) => {(f4(f5))(f8);}):f3();};} requestAnimationFrame((f5) => {(f4(f5))(f5);});};return T((f3, f4, f5) => f2.apply(null, [f3, f4, f5]));} }
function dL(fZ){ return{$:0, $0:fZ};}
function dM(fZ){ return dL(e1(bB(eQ, fZ)));}
function dN(){ return dL(e2());}
function dO(){ return eU.BatchUpdatesEnabled;}
function dP(fZ){ const f0=[0];function f1(){ const f2=null;return N(() => O(fZ, () => { const f3=f0[0];return v(f3, 1)?(f0[0]=0,u0031()):v(f3, 2)?(f0[0]=1,f1()):u0031();}));} return() => { const f2=f0[0];if(v(f2, 0)){ f0[0]=1;u0032(f1(), null);} else v(f2, 1)?f0[0]=2:void 0;};}
function dQ(fZ, f0, f1, f2){ const f3={DynElem:fZ, DynFlags:f0, DynNodes:f1};fS(f3, "OnAfterRender", f2);return f3;}
function dR(fZ){ let f0;const f1=fZ.s;if(f1==null||(f1!=null&&f1.$==2?(f0=f1.$1,false):f1!=null&&f1.$==3?(f0=f1.$1,false):true))void 0;else { fZ.s=null;for(let f3=0, f4=m(f0)-1;f3<=f4;f3++){ const f2=k(f0, f3);if(typeof f2=="object")(((f5) => { dR(f5);})(f2));else f2();} } }
function dS(fZ, f0){ const f1=[];const f2=[];function f3(f6){ while(true){ if(!(f6===null)){ if(f6!=null&&f6.$==1)return f1.push(f6.$0);else if(f6!=null&&f6.$==2){ const f7=f6.$1;const f8=f6.$0;f3(f8);f6=f7;} else return f6!=null&&f6.$==3?f6.$0(fZ):f6!=null&&f6.$==4?f2.push(f6.$0):null;} else return null;} } f3(f0);const f4=f1.slice(0);let f5=dQ(fZ, dV(f0), f4, f2.length===0?null:u0034((f6) => { bA((f7) => { f7(f6);}, f2);}));return f5;}
function dT(fZ){ return eA((f0) => f0.NChanged, db(), dh, fZ.DynNodes);}
function dU(fZ){ return dQ(fZ, 0, [], null);}
function dV(fZ){ return fZ!==null&&fZ.hasOwnProperty("flags")?fZ.flags:0;}
function dW(fZ){ return el.A3(fZ);}
function dX(fZ, f0){ return el.A1(new e3(fZ, f0));}
function dY(){ return e5.EmptyAttr;}
function dZ(fZ){ const f0=2;return(fZ.DynFlags&f0)===f0;}
function d0(fZ){ return d6(fZ, (f0, f1) => f0.NGetExitAnim(f1));}
function d1(fZ){ const f0=1;return(fZ.DynFlags&f0)===f0;}
function d2(fZ){ return d6(fZ, (f0, f1) => f0.NGetEnterAnim(f1));}
function d3(fZ){ const f0=4;return(fZ.DynFlags&f0)===f0;}
function d4(fZ){ return d6(fZ, (f0, f1) => f0.NGetChangeAnim(f1));}
function d5(fZ, f0){ if(fZ===null)return f0;else if(f0===null)return fZ;else { const f1=el.A2(fZ, f0);d8(f1, dV(fZ)|dV(f0));return f1;} }
function d6(fZ, f0){ return dM(bT((f1) => f0(f1, fZ.DynElem), fZ.DynNodes));}
function d7(fZ, f0){ bR((f1) => { f1.NSync(fZ);}, f0.DynNodes);}
function d8(fZ, f0){ fZ.flags=f0;}
class d9 extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d_ extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class d$ extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function ea(fZ, f0){ return dW((f1) => { f1.addEventListener(fZ, (f2) =>(f0(f1))(f2), false);});}
function eb(fZ){ return el.A4(fZ);}
function ec(fZ, f0){ return dX(f0, (f1) =>(f2) => f1.setAttribute(fZ, f2));}
function ed(fZ){ return ej(fu(), fZ);}
function ee(fZ){ return ej(fv(), fZ);}
function ef(fZ){ return ej(fw(), fZ);}
function eg(fZ){ return ej(fx(), fZ);}
function eh(fZ){ return ej(fy(), fZ);}
function ei(fZ){ return ej(fz(), fZ);}
function ej(fZ, f0){ const f1=fZ(f0);return el.Append(dW(f1[0]), ek(f1[1], f1[2]));}
function ek(fZ, f0){ return dX(f0, fZ);}
class el { static Handler(fZ, f0){ return el.HandlerImpl(fZ, f0);} static Concat(fZ){ const f0=eB(fZ);return ez(dY(), el.Append, f0);} static Create(fZ, f0){ return dW((f1) => { f1.setAttribute(fZ, f0);});} static HandlerImpl(fZ, f0){ return dW((f1) => { f1.addEventListener(fZ, (f2) =>(f0(f1))(f2), false);});} static Append(fZ, f0){ return d5(fZ, f0);} static A4(fZ){ return fX(el, {$:4, $0:fZ});} static A3(fZ){ return fX(el, {$:3, $0:fZ});} static A1(fZ){ return fX(el, {$:1, $0:fZ});} static A2(fZ, f0){ return fX(el, {$:2, $0:fZ, $1:f0});} }
class em extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
class en extends o { name;fillWith;get Value(){ return this.fillWith;} get Name(){ return this.name;} }
function eo(fZ){ return{$:0, $0:fZ};}
function ep(fZ){ return{$:1, $0:fZ};}
class eq { static Cons(fZ, f0){ return fX(eq, {$:1, $0:fZ, $1:f0});} static Empty=fX(eq, {$:0});GetEnumerator(){ return new cH(this, null, (fZ) => { const f0=fZ.s;return f0.$==0?false:(fZ.c=f0.$0,fZ.s=f0.$1,true);}, void 0);} }
function er(fZ, f0){ return bV(f0).join(fZ);}
function es(fZ, f0, f1){ return eu(fZ, new RegExp("["+ev(f0.join(""))+"]"), f1);}
function et(fZ, f0){ return fZ.substring(0, f0.length)==f0;}
function eu(fZ, f0, f1){ return f1===1?bU((f2) => f2!=="", ew(fZ, f0)):ew(fZ, f0);}
function ev(fZ){ return fZ.replace(new RegExp("[-\\/\\\\^$*+?.()|[\\]{}]", "g"), "\\$&");}
function ew(fZ, f0){ return fZ.split(f0);}
function ex(fZ, f0){ return bK(fZ, ey(f0));}
function ey(fZ){ return fZ==null?"":fZ;}
function ez(fZ, f0, f1){ const f2=m(f1);function f3(f4){ return(f5) => { let f6;switch(f5<=0?0:f5===1?f4>=0&&f4<f2?1:(f6=f5,2):(f6=f5,2)){ case 0:return fZ;case 1:return k(f1, f4);case 2:const f7=f5/2>>0;return f0((f3(f4))(f7), (f3(f4+f7))(f5-f7));} };} return(f3(0))(f2);}
function eA(fZ, f0, f1, f2){ const f3=m(f2);function f4(f5){ return(f6) => { let f7;switch(f6<=0?0:f6===1?f5>=0&&f5<f3?1:(f7=f6,2):(f7=f6,2)){ case 0:return f0;case 1:return fZ(k(f2, f5));case 2:const f8=f6/2>>0;return f1((f4(f5))(f8), (f4(f5+f8))(f6-f8));} };} return(f4(0))(f3);}
function eB(fZ){ if(fZ instanceof Array)return fZ;else if(fZ instanceof eq)return bX(fZ);else if(fZ===null)return[];else { const f0=[];const f1=cD(fZ);try { while(f1.MoveNext())f0.push(f1.Current);return f0;} finally { if(typeof f1=="object"&&a(f1))f1.Dispose();} } }
class eC { c;s;v;static Create(fZ){ let f0;f0=null;f0=eC.New(fZ, null, () => { let f1;f1=f0.s;return f1===null?(f1=cj(f0.c()),f0.s=f1,ck(f1, () => { f0.s=null;}),f1):f1;});return f0;} static New(fZ, f0, f1){ return fX(eC, {c:fZ, s:f0, v:f1});} }
class eD extends h { d;GetEnumerator(){ return cD(bB((fZ) => fZ.V, this.d));} constructor(fZ){ super();this.d=fZ;} }
function eE(fZ, f0){ return{PreviousNodes:fZ, Top:f0};}
function eF(){ return eH(new bw("New_3"));}
function eG(fZ){ const f0=[];function f1(f4, f5){ while(true)switch(f4){ case 0:if(f5!=null&&f5.$==0){ const f6=f5.$1;const f7=f5.$0;f1(0, f7);f5=f6;} else if(f5!=null&&f5.$==1){ const f8=f5.$0;f5=f8;f4=1;} else if(f5!=null&&f5.$==2){ const f9=f5.$0;f5=f9.Current;} else if(f5!=null&&f5.$==6){ const f_=f5.$0.Holes;return(((f$) =>(ga) => { bR(f$, ga);})(f3))(f_);} else return null;break;case 1:f0.push(f5);f5=f5.Children;f4=0;break;} } function f2(f4){ return f1(0, f4);} function f3(f4){ return f1(1, f4);} f2(fZ);return eH(new bw("New_2", f0));}
function eH(fZ){ return{$:0, $0:fZ};}
function eI(fZ, f0){ return eH(e7(fZ, f0.$0));}
function eJ(fZ, f0){ return eH(e8(fZ.$0, f0.$0));}
function eK(fZ){ return e9(fZ.$0);}
function eL(fZ, f0){ return eH(e_(fZ.$0, f0.$0));}
function eM(){ return eY.UseAnimations;}
function eN(fZ){ return eP(bM((f0) => f0.$==1?u0034(f0.$0):null, e0(fZ.$0)));}
function eO(fZ){ bR((f0) => { if(f0.$==0)f0.$0();}, e0(fZ.$0));}
function eP(fZ){ const f0=eB(fZ);const f1=m(f0);if(f1===0)return eR();else if(f1===1)return k(f0, 0);else { const f2=bE(bB((f4) => f4.Duration, f0));const f3=bT((f4) => eT(f2, f4), f0);return eS(f2, (f4) => { bR((f5) => { f5.Compute(f4);}, f3);});} }
function eQ(fZ){ return fZ.$0;}
function eR(fZ){ return eS(0, () => fZ);}
function eS(fZ, f0){ return{Compute:f0, Duration:fZ};}
function eT(fZ, f0){ const f1=f0.Compute;const f2=f0.Duration;const f3=fK(() => f0.Compute(f0.Duration));return{Compute:(f4) => f4>=f2?f3.f():f1(f4), Duration:fZ};}
let eU=fT((fZ) => class f0 { static { eU=fZ(this);} static BatchUpdatesEnabled;static { this.BatchUpdatesEnabled=true;} });
function eV(fZ){ let f0=[];let f1;for(var f2 in fZ)f0.push.apply(f0, fZ[f2]);return f0;}
let eW=fT((fZ) => class f0 { static { eW=fZ(this);} static counter;static { this.counter=0;} });
let eX=fT((fZ) => class f0 { static { eX=fZ(this);} static defaultWrap;static wrapMap;static rhtml;static rtagName;static rxhtmlTag;static { this.rxhtmlTag=new RegExp("<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>", "gi");this.rtagName=new RegExp("<([\\w:]+)");this.rhtml=new RegExp("<|&#?\\w+;");const f1=[1, "<table>", "</table>"];let f2=Object.fromEntries([["option", [1, "<select multiple='multiple'>", "</select>"]], ["legend", [1, "<fieldset>", "</fieldset>"]], ["area", [1, "<map>", "</map>"]], ["param", [1, "<object>", "</object>"]], ["thead", f1], ["tbody", f1], ["tfoot", f1], ["tr", [2, "<table><tbody>", "</tbody></table>"]], ["col", [2, "<table><colgroup>", "</colgoup></table>"]], ["td", [3, "<table><tbody><tr>", "</tr></tbody></table>"]]]);this.wrapMap=f2;this.defaultWrap=[0, "", ""];} });
let eY=fT((fZ) => class f0 { static { eY=fZ(this);} static UseAnimations;static CubicInOut;static { this.CubicInOut=e6.Custom((f1) => { const f2=f1*f1;return 3*f2-2*(f2*f1);});this.UseAnimations=true;} });
function eZ(fZ, f0){ return fZ.$==0?f0:f0.$==0?fZ:{$:2, $0:fZ, $1:f0};}
function e0(fZ){ const f0=[];function f1(f2){ while(true){ if(f2.$==1)return f0.push(f2.$0);else if(f2.$==2){ const f3=f2.$1;const f4=f2.$0;f1(f4);f2=f3;} else return f2.$==3?bR((f5) => { f0.push(f5);}, f2.$0):null;} } f1(fZ);return f0.slice(0);}
function e1(fZ){ const f0=eB(fZ);return ez(e2(), eZ, f0);}
function e2(){ return fN.Empty;}
class e3 extends h { push;value;dirty;updates;get NChanged(){ return this.updates;} NGetExitAnim(fZ){ return dN();} NGetEnterAnim(fZ){ return dN();} NGetChangeAnim(fZ){ return dN();} NSync(fZ){ if(this.dirty){(this.push(fZ))(this.value);this.dirty=false;} } constructor(fZ, f0){ super();this.push=f0;this.value=void 0;this.dirty=false;this.updates=dd((f1) => { this.value=f1;this.dirty=true;}, fZ);} }
class e4 extends Error { static New(){ return new this("New");} static New_1(fZ){ return new this("New_1", fZ);} constructor(fZ, f0){ if(fZ=="New"){ fZ="New_1";f0="The given key was not present in the dictionary.";} if(fZ=="New_1"){ const f1=f0;super(f1);} } }
let e5=fT((fZ) => class f0 { static { e5=fZ(this);} static FloatApplyChecked;static FloatGetChecked;static FloatSetChecked;static FloatApplyUnchecked;static FloatGetUnchecked;static FloatSetUnchecked;static IntApplyChecked;static IntGetChecked;static IntSetChecked;static IntApplyUnchecked;static IntGetUnchecked;static IntSetUnchecked;static FileApplyUnchecked;static FileGetUnchecked;static FileSetUnchecked;static DateTimeApplyUnchecked;static DateTimeGetUnchecked;static DateTimeSetUnchecked;static StringListApply;static StringListGet;static StringListSet;static StringApply;static StringGet;static StringSet;static BoolCheckedApply;static EmptyAttr;static { this.EmptyAttr=null;this.BoolCheckedApply=(gf) =>[(gg) => { gg.addEventListener("change", () => gf.Get()!=gg.checked?gf.Set(gg.checked):null);}, (gg) =>(gh) => gh!=null&&gh.$==1?void(gg.checked=gh.$0):null, dd(u0034, gf.View)];this.StringSet=(gf) =>(gg) => { gf.value=gg;};this.StringGet=(gf) => u0034(gf.value);const f1=fe();const f2=fd();this.StringApply=(gf) => fc(f1, f2, gf);this.StringListSet=(gf) =>(gg) => { const gh=gf.options;for(let gi=0, gj=gh.length-1;gi<=gj;gi++)((() => { const gk=gh.item(gi);gk.selected=dE(gk.value, gg);})());};this.StringListGet=(gf) => { const gg=gf.selectedOptions;return u0034(bV(bC(() => bD((gh) =>[gg.item(gh).value], g(0, gg.length-1)))));};const f3=fg();const f4=ff();this.StringListApply=(gf) => fc(f3, f4, gf);this.DateTimeSetUnchecked=(gf) =>(gg) => { gf.value=(new Date(gg)).toLocaleString();};this.DateTimeGetUnchecked=(gf) => { let gg;let gh;const gi=gf.value;if(fA(gi))return u0034(-8640000000000000);else { gg=0;const gj=fI(gi);let gk=gj!=null&&gj.$==1&&(gg=gj.$0,true);gh=[gk, gg];return gh[0]?u0034(gh[1]):null;} };const f5=fi();const f6=fh();this.DateTimeApplyUnchecked=(gf) => fc(f5, f6, gf);this.FileSetUnchecked=() =>() => null;this.FileGetUnchecked=(gf) => { const gg=gf.files;return u0034(bV(bC(() => bB((gh) => gg.item(gh), g(0, gg.length-1)))));};const f7=fl();const f8=fk();this.FileApplyUnchecked=(gf) => fj(f7, f8, gf);this.IntSetUnchecked=(gf) =>(gg) => { gf.value=String(gg);};this.IntGetUnchecked=(gf) => { const gg=gf.value;if(fA(gg))return u0034(0);else { const gh=+gg;return gh!==gh>>0?null:u0034(gh);} };const f9=fn();const f_=fm();this.IntApplyUnchecked=(gf) => fc(f9, f_, gf);this.IntSetChecked=(gf) =>(gg) => { const gh=gg.Input;return gf.value!=gh?void(gf.value=gh):null;};this.IntGetChecked=(gf) => { let gg;let gh;const gi=gf.value;if(fA(gi))gg=(gf.checkValidity?gf.checkValidity():true)?fB.Blank(gi):fB.Invalid(gi);else { const gj=(gh=0,[cb(gi, {get:() => gh, set:(gk) => { gh=gk;}}), gh]);gg=gj[0]?fB.Valid(gj[1], gi):fB.Invalid(gi);} return u0034(gg);};const f$=fp();const ga=fo();this.IntApplyChecked=(gf) => fc(f$, ga, gf);this.FloatSetUnchecked=(gf) =>(gg) => { gf.value=String(gg);};this.FloatGetUnchecked=(gf) => { const gg=gf.value;if(fA(gg))return u0034(0);else { const gh=+gg;return isNaN(gh)?null:u0034(gh);} };const gb=fr();const gc=fq();this.FloatApplyUnchecked=(gf) => fc(gb, gc, gf);this.FloatSetChecked=(gf) =>(gg) => { const gh=gg.Input;return gf.value!=gh?void(gf.value=gh):null;};this.FloatGetChecked=(gf) => { let gg;const gh=gf.value;if(fA(gh))gg=(gf.checkValidity?gf.checkValidity():true)?fB.Blank(gh):fB.Invalid(gh);else { const gi=+gh;gg=isNaN(gi)?fB.Invalid(gh):fB.Valid(gi, gh);} return u0034(gg);};const gd=ft();const ge=fs();this.FloatApplyChecked=(gf) => fc(gd, ge, gf);} });
class e6 extends h { transformTime;static Custom(fZ){ return new e6(fZ);} constructor(fZ){ super();this.transformTime=fZ;} }
function e7(fZ, f0){ return new bw("New_2", bU(fZ, e9(f0)));}
function e8(fZ, f0){ const f1=new bw("New_2", e9(f0));f1.ExceptWith(e9(fZ));return f1;}
function e9(fZ){ const f0=bZ(fZ.Count, void 0);fZ.CopyTo(f0, 0);return f0;}
function e_(fZ, f0){ const f1=new bw("New_2", e9(fZ));f1.IntersectWith(e9(f0));return f1;}
function e$(fZ){ return fZ.$==1?fZ.$0:fb();}
function fa(fZ){ return fZ.$==1?fZ.$1:fb();}
function fb(){ return e("The input list was empty.");}
function fc(fZ, f0, f1){ let f2;f2=null;return[(f3) => { const f4=() => { f1.UpdateMaybe((f5) => { let f6;f2=fZ(f3);return f2!=null&&f2.$==1&&(!v(f2.$0, f5)&&(f6=[f2, f2.$0],true))?f6[0]:null;});};f3.addEventListener("change", f4);f3.addEventListener("input", f4);f3.addEventListener("keypress", f4);}, (f3) => { const f4=f0(f3);return(f5) => f5==null?null:f4(f5.$0);}, dd((f3) => { let f4;return f2!=null&&f2.$==1&&(v(f2.$0, f3)&&(f4=f2.$0,true))?null:u0034(f3);}, f1.View)];}
function fd(){ return e5.StringSet;}
function fe(){ return e5.StringGet;}
function ff(){ return e5.StringListSet;}
function fg(){ return e5.StringListGet;}
function fh(){ return e5.DateTimeSetUnchecked;}
function fi(){ return e5.DateTimeGetUnchecked;}
function fj(fZ, f0, f1){ let f2;f2=null;return[(f3) => { f3.addEventListener("change", () => { f1.UpdateMaybe((f4) => { let f5;f2=fZ(f3);return f2!=null&&f2.$==1&&(f2.$0!==f4&&(f5=[f2, f2.$0],true))?f5[0]:null;});});}, (f3) => { const f4=f0(f3);return(f5) => f5==null?null:f4(f5.$0);}, dd((f3) => { let f4;return f2!=null&&f2.$==1&&(v(f2.$0, f3)&&(f4=f2.$0,true))?null:u0034(f3);}, f1.View)];}
function fk(){ return e5.FileSetUnchecked;}
function fl(){ return e5.FileGetUnchecked;}
function fm(){ return e5.IntSetUnchecked;}
function fn(){ return e5.IntGetUnchecked;}
function fo(){ return e5.IntSetChecked;}
function fp(){ return e5.IntGetChecked;}
function fq(){ return e5.FloatSetUnchecked;}
function fr(){ return e5.FloatGetUnchecked;}
function fs(){ return e5.FloatSetChecked;}
function ft(){ return e5.FloatGetChecked;}
function fu(){ return e5.StringApply;}
function fv(){ return e5.FloatApplyUnchecked;}
function fw(){ return e5.BoolCheckedApply;}
function fx(){ return e5.DateTimeApplyUnchecked;}
function fy(){ return e5.FileApplyUnchecked;}
function fz(){ return e5.StringListApply;}
function fA(fZ){ return ex(fH, fZ);}
class fB { get Input(){ return this.$==1?this.$0:this.$==2?this.$0:this.$1;} static Blank(fZ){ return fX(fB, {$:2, $0:fZ});} static Invalid(fZ){ return fX(fB, {$:1, $0:fZ});} static Valid(fZ, f0){ return fX(fB, {$:0, $0:fZ, $1:f0});} }
function fC(fZ, f0){ let f1;if(f0!=null&&f0.$==1){ const f2=[];f1=f0.$0[0].nextSibling;while(f1!==f0.$0[1]){ f2.push(f1);f1=f1.nextSibling;} return fG(f2);} else { let f3=fZ.childNodes.length;const f4=fZ.childNodes;let f5=b0(f3, (f6) => f4[f6]);return fG(f5);} }
function fD(fZ, f0){ const f1=fZ.$0;return fG(bU((f2) => bY((f3) =>!(f2===f3), f1), f0.$0));}
function fE(fZ, f0){ bR(fZ, f0.$0);}
function fF(fZ){ const f0=[];function f1(f2){ while(true){ if(f2!=null&&f2.$==2){ const f3=f2.$0;f2=f3.Current;} else if(f2!=null&&f2.$==1)return f0.push(f2.$0.El);else if(f2==null)return null;else if(f2!=null&&f2.$==5)return f0.push(f2.$0);else if(f2!=null&&f2.$==4)return f0.push(f2.$0.Text);else if(f2!=null&&f2.$==6){ const f4=f2.$0.Els;return(((f7) =>(f8) => { bR(f7, f8);})((f7) => { if(f7==null||f7.constructor===Object)f1(f7);else f0.push(f7);}))(f4);} else { const f5=f2.$1;const f6=f2.$0;f1(f6);f2=f5;} } } f1(fZ.Children);return fG(eB(f0));}
function fG(fZ){ return{$:0, $0:fZ};}
function fH(fZ){ return fZ.match(new RegExp("\\s"))!==null;}
function fI(fZ){ const f0=Date.parse(fZ);return isNaN(f0)?null:u0034(f0);}
function fJ(fZ, f0, f1, f2){ const f3=+fZ;const f4=f3===f3-f3%1&&f3>=f0&&f3<=f1;if(f4)f2.set(f3);return f4;}
function fK(fZ){ return fP(false, fZ, fL);}
function fL(){ const fZ=this.v();this.c=true;this.v=fZ;this.f=fM;return fZ;}
function fM(){ return this.v;}
let fN=fT((fZ) => class f0 { static { fN=fZ(this);} static Empty;static { this.Empty={$:0};} });
function fO(fZ){ fZ.splice(0, m(fZ));}
function fP(fZ, f0, f1){ return{c:fZ, v:f0, f:f1};}
fY(() => { b();});
fQ();

